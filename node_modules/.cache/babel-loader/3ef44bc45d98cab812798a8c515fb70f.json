{"ast":null,"code":"import axios from \"axios\";\nconst ENDPOINT = \"http://localhost:8000\";\nexport const DoctorApi = {\n  getAllDoctors: async () => {\n    const res = await axios.get(ENDPOINT + \"/api/doctors\").then(r => {\n      //console.log(res.data);\n      return r.data;\n    });\n    return res;\n  },\n  getDoctorById: async doctorId => {\n    const res = await axios.get(ENDPOINT + '/api/doctors/' + doctorId).then(r => {\n      return r.data;\n    });\n    return res;\n  },\n  addDoctor: async data => {\n    const res = await axios({\n      method: \"post\",\n      url: ENDPOINT + \"/api/register-doctor\",\n      data: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    return res;\n  },\n  editDoctorById: async (doctorId, data) => {\n    console.log(data);\n    const res = await axios({\n      method: \"put\",\n      url: ENDPOINT + '/api/doctors/' + doctorId,\n      data: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    return res;\n  },\n  deleteDoctor: async doctorId => {\n    const res = await axios.delete(ENDPOINT + `/api/doctors/${doctorId}`).then(r => {\n      return r.status;\n    });\n    return res;\n  },\n  // idk might need a debug\n  getDocByNameSpec: async input => {\n    const requestOne = await axios.get(ENDPOINT + `/api/doctors-spec/` + input);\n    const requestTwo = await axios.get(ENDPOINT + `/api/doctors-name/` + input);\n    const res = await axios.all([requestOne, requestTwo]).then(axios.spread(function () {\n      for (var _len = arguments.length, res = new Array(_len), _key = 0; _key < _len; _key++) {\n        res[_key] = arguments[_key];\n      }\n      const dataOne = res[0].data;\n      const dataTwo = res[1].data;\n      const dataCon = dataOne.concat(dataTwo);\n      return dataCon;\n    })).catch(err => {\n      console.error(err);\n    });\n    return res;\n  }\n};\n\n// module.exports = { DoctorApi }","map":{"version":3,"names":["axios","ENDPOINT","DoctorApi","getAllDoctors","res","get","then","r","data","getDoctorById","doctorId","addDoctor","method","url","JSON","stringify","headers","editDoctorById","console","log","deleteDoctor","delete","status","getDocByNameSpec","input","requestOne","requestTwo","all","spread","dataOne","dataTwo","dataCon","concat","catch","err","error"],"sources":["/Users/inabat/Documents/projects/software-engineering/densysme-frontend/src/client/backend-api/doctor.js"],"sourcesContent":["import axios from \"axios\";\n\nconst ENDPOINT = \"http://localhost:8000\";\n\nexport const DoctorApi = {\n    getAllDoctors: async () =>{\n        const res = await axios.get(ENDPOINT + \"/api/doctors\").then((r)=>{\n            //console.log(res.data);\n            return r.data;\n        })\n        return res;\n    },\n\n    getDoctorById: async (doctorId) => {\n        const res = await axios.get(ENDPOINT + '/api/doctors/' + doctorId).then((r) => {\n            return r.data\n        })\n        return res\n    },\n\n    addDoctor: async (data) => {\n        const res = await axios({\n            method: \"post\",\n            url: ENDPOINT + \"/api/register-doctor\",\n            data: JSON.stringify(data),\n            headers: { \"Content-Type\": \"application/json\" },\n        })\n        return res\n    },\n\n    editDoctorById: async (doctorId, data) => {\n        console.log(data);\n        const res = await axios({\n            method: \"put\",\n            url: ENDPOINT + '/api/doctors/' + doctorId,\n            data: JSON.stringify(data),\n            headers: { \"Content-Type\": \"application/json\"},\n        })\n        \n        return res\n    },\n\n    deleteDoctor: async (doctorId) => {\n        const res = await axios.delete(ENDPOINT + `/api/doctors/${doctorId}`).then((r)=>{\n            return r.status\n        })\n        return res\n    },\n    // idk might need a debug\n    getDocByNameSpec: async (input) =>{\n        const requestOne = await axios.get(ENDPOINT + `/api/doctors-spec/` + input);\n        const requestTwo = await axios.get(ENDPOINT + `/api/doctors-name/` + input);\n\n        const res = await axios.all([requestOne, requestTwo]).then(axios.spread((...res)=>{\n            const dataOne = res[0].data\n            const dataTwo =  res[1].data\n\n            const dataCon = dataOne.concat(dataTwo);\n\n            return dataCon\n        })).catch(err =>{\n            console.error(err);\n        })\n\n        return res\n    },\n\n    \n}\n\n\n// module.exports = { DoctorApi }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,OAAO,MAAMC,SAAS,GAAG;EACrBC,aAAa,EAAE,YAAW;IACtB,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,QAAQ,GAAG,cAAc,CAAC,CAACK,IAAI,CAAEC,CAAC,IAAG;MAC7D;MACA,OAAOA,CAAC,CAACC,IAAI;IACjB,CAAC,CAAC;IACF,OAAOJ,GAAG;EACd,CAAC;EAEDK,aAAa,EAAE,MAAOC,QAAQ,IAAK;IAC/B,MAAMN,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,QAAQ,GAAG,eAAe,GAAGS,QAAQ,CAAC,CAACJ,IAAI,CAAEC,CAAC,IAAK;MAC3E,OAAOA,CAAC,CAACC,IAAI;IACjB,CAAC,CAAC;IACF,OAAOJ,GAAG;EACd,CAAC;EAEDO,SAAS,EAAE,MAAOH,IAAI,IAAK;IACvB,MAAMJ,GAAG,GAAG,MAAMJ,KAAK,CAAC;MACpBY,MAAM,EAAE,MAAM;MACdC,GAAG,EAAEZ,QAAQ,GAAG,sBAAsB;MACtCO,IAAI,EAAEM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC;MAC1BQ,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAClD,CAAC,CAAC;IACF,OAAOZ,GAAG;EACd,CAAC;EAEDa,cAAc,EAAE,OAAOP,QAAQ,EAAEF,IAAI,KAAK;IACtCU,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;IACjB,MAAMJ,GAAG,GAAG,MAAMJ,KAAK,CAAC;MACpBY,MAAM,EAAE,KAAK;MACbC,GAAG,EAAEZ,QAAQ,GAAG,eAAe,GAAGS,QAAQ;MAC1CF,IAAI,EAAEM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC;MAC1BQ,OAAO,EAAE;QAAE,cAAc,EAAE;MAAkB;IACjD,CAAC,CAAC;IAEF,OAAOZ,GAAG;EACd,CAAC;EAEDgB,YAAY,EAAE,MAAOV,QAAQ,IAAK;IAC9B,MAAMN,GAAG,GAAG,MAAMJ,KAAK,CAACqB,MAAM,CAACpB,QAAQ,GAAI,gBAAeS,QAAS,EAAC,CAAC,CAACJ,IAAI,CAAEC,CAAC,IAAG;MAC5E,OAAOA,CAAC,CAACe,MAAM;IACnB,CAAC,CAAC;IACF,OAAOlB,GAAG;EACd,CAAC;EACD;EACAmB,gBAAgB,EAAE,MAAOC,KAAK,IAAI;IAC9B,MAAMC,UAAU,GAAG,MAAMzB,KAAK,CAACK,GAAG,CAACJ,QAAQ,GAAI,oBAAmB,GAAGuB,KAAK,CAAC;IAC3E,MAAME,UAAU,GAAG,MAAM1B,KAAK,CAACK,GAAG,CAACJ,QAAQ,GAAI,oBAAmB,GAAGuB,KAAK,CAAC;IAE3E,MAAMpB,GAAG,GAAG,MAAMJ,KAAK,CAAC2B,GAAG,CAAC,CAACF,UAAU,EAAEC,UAAU,CAAC,CAAC,CAACpB,IAAI,CAACN,KAAK,CAAC4B,MAAM,CAAC,YAAU;MAAA,kCAANxB,GAAG;QAAHA,GAAG;MAAA;MAC3E,MAAMyB,OAAO,GAAGzB,GAAG,CAAC,CAAC,CAAC,CAACI,IAAI;MAC3B,MAAMsB,OAAO,GAAI1B,GAAG,CAAC,CAAC,CAAC,CAACI,IAAI;MAE5B,MAAMuB,OAAO,GAAGF,OAAO,CAACG,MAAM,CAACF,OAAO,CAAC;MAEvC,OAAOC,OAAO;IAClB,CAAC,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,IAAG;MACZhB,OAAO,CAACiB,KAAK,CAACD,GAAG,CAAC;IACtB,CAAC,CAAC;IAEF,OAAO9B,GAAG;EACd;AAGJ,CAAC;;AAGD"},"metadata":{},"sourceType":"module"}