{"ast":null,"code":"var _jsxFileName = \"/Users/inabat/Documents/projects/software-engineering/densysme-frontend/src/context/user-context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, createContext, useContext } from \"react\";\nimport { NotificationManager } from \"react-notifications\";\nimport { UserApi } from \"../client/backend-api/admin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  loginUser: () => {}\n});\nconst useUser = () => {\n  _s();\n  return useContext(UserContext);\n};\n_s(useUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst UserProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    UserApi.getProfile().then((user, error) => {\n      if (error) {\n        console.error(error);\n      } else {\n        console.log(user);\n        setUser(user);\n      }\n    }).catch(console.error);\n  }, []);\n  const loginUser = async (username, password, index) => {\n    let response = null;\n    if (index === 0) {\n      await UserApi.userLogin(username, password).then(r => {\n        NotificationManager.success(\"Logged in successfully!\");\n        setUser(r.data);\n        response = r.data;\n      }).catch(error => {\n        NotificationManager.error(error);\n      });\n    } else if (index === 1) {\n      await UserApi.docLogin(username, password).then(r => {\n        NotificationManager.success(\"Logged in successfully!\");\n        setUser(r.data);\n        response = r.data;\n      }).catch(error => {\n        NotificationManager.error(error);\n      });\n    } else {\n      await UserApi.login(username, password).then(r => {\n        NotificationManager.success(\"Logged in successfully!\");\n        setUser(r.data);\n        response = r.data;\n      }).catch(error => {\n        NotificationManager.error(error);\n      });\n    }\n    return response;\n  };\n  const logoutUser = async () => {\n    setUser(null);\n    await UserApi.logout();\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      loginUser,\n      logoutUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s2(UserProvider, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = UserProvider;\nexport { useUser, UserProvider };\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["useState","useEffect","createContext","useContext","NotificationManager","UserApi","UserContext","user","loginUser","useUser","UserProvider","children","setUser","getProfile","then","error","console","log","catch","username","password","index","response","userLogin","r","success","data","docLogin","login","logoutUser","logout"],"sources":["/Users/inabat/Documents/projects/software-engineering/densysme-frontend/src/context/user-context.js"],"sourcesContent":["import {useState, useEffect, createContext, useContext} from \"react\";\nimport {NotificationManager} from \"react-notifications\"\nimport { UserApi } from \"../client/backend-api/admin\"\n\n\nconst UserContext = createContext({\n    user : null,\n    loginUser: () => {},\n})\n\nconst useUser = () => useContext(UserContext)\n\nconst UserProvider = ( {children} ) => {\n    const [user, setUser] = useState(null)\n\n    useEffect(() => {\n        UserApi.getProfile().then((user, error) => {\n            if (error) {\n                console.error(error)\n            } else {\n                console.log(user);\n                setUser(user)\n            }\n        }).catch(console.error)\n    }, [])\n\n    const loginUser = async (username, password, index) => {\n        let response = null\n        if(index === 0) {\n            await UserApi.userLogin(username, password).then(r =>{\n                NotificationManager.success(\"Logged in successfully!\")\n                setUser(r.data)\n                response = r.data\n            }).catch(error =>{\n                NotificationManager.error(error)\n            })\n        } else if(index === 1) {\n            await UserApi.docLogin(username, password).then(r =>{\n                NotificationManager.success(\"Logged in successfully!\")\n                setUser(r.data)\n                response = r.data\n            }).catch(error =>{\n                NotificationManager.error(error)\n            })\n        } else {\n            await UserApi.login(username, password).then(r =>{\n                NotificationManager.success(\"Logged in successfully!\")\n                setUser(r.data)\n                response = r.data\n            }).catch(error =>{\n                NotificationManager.error(error)\n            })\n        }\n        return response\n    }\n\n    const logoutUser = async () => {\n        setUser(null)\n        await UserApi.logout()\n    }\n\n    return (\n        <UserContext.Provider value={{user, loginUser, logoutUser}}>\n            {children}\n        </UserContext.Provider>\n    )\n}\n\nexport {useUser, UserProvider}"],"mappings":";;;AAAA,SAAQA,QAAQ,EAAEC,SAAS,EAAEC,aAAa,EAAEC,UAAU,QAAO,OAAO;AACpE,SAAQC,mBAAmB,QAAO,qBAAqB;AACvD,SAASC,OAAO,QAAQ,6BAA6B;AAAA;AAGrD,MAAMC,WAAW,gBAAGJ,aAAa,CAAC;EAC9BK,IAAI,EAAG,IAAI;EACXC,SAAS,EAAE,MAAM,CAAC;AACtB,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAG;EAAA;EAAA,OAAMN,UAAU,CAACG,WAAW,CAAC;AAAA;AAAA,GAAvCG,OAAO;AAEb,MAAMC,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAhB;IAACC;EAAQ,CAAC;EAC7B,MAAM,CAACJ,IAAI,EAAEK,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACZI,OAAO,CAACQ,UAAU,EAAE,CAACC,IAAI,CAAC,CAACP,IAAI,EAAEQ,KAAK,KAAK;MACvC,IAAIA,KAAK,EAAE;QACPC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACxB,CAAC,MAAM;QACHC,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC;QACjBK,OAAO,CAACL,IAAI,CAAC;MACjB;IACJ,CAAC,CAAC,CAACW,KAAK,CAACF,OAAO,CAACD,KAAK,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMP,SAAS,GAAG,OAAOW,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,KAAK;IACnD,IAAIC,QAAQ,GAAG,IAAI;IACnB,IAAGD,KAAK,KAAK,CAAC,EAAE;MACZ,MAAMhB,OAAO,CAACkB,SAAS,CAACJ,QAAQ,EAAEC,QAAQ,CAAC,CAACN,IAAI,CAACU,CAAC,IAAG;QACjDpB,mBAAmB,CAACqB,OAAO,CAAC,yBAAyB,CAAC;QACtDb,OAAO,CAACY,CAAC,CAACE,IAAI,CAAC;QACfJ,QAAQ,GAAGE,CAAC,CAACE,IAAI;MACrB,CAAC,CAAC,CAACR,KAAK,CAACH,KAAK,IAAG;QACbX,mBAAmB,CAACW,KAAK,CAACA,KAAK,CAAC;MACpC,CAAC,CAAC;IACN,CAAC,MAAM,IAAGM,KAAK,KAAK,CAAC,EAAE;MACnB,MAAMhB,OAAO,CAACsB,QAAQ,CAACR,QAAQ,EAAEC,QAAQ,CAAC,CAACN,IAAI,CAACU,CAAC,IAAG;QAChDpB,mBAAmB,CAACqB,OAAO,CAAC,yBAAyB,CAAC;QACtDb,OAAO,CAACY,CAAC,CAACE,IAAI,CAAC;QACfJ,QAAQ,GAAGE,CAAC,CAACE,IAAI;MACrB,CAAC,CAAC,CAACR,KAAK,CAACH,KAAK,IAAG;QACbX,mBAAmB,CAACW,KAAK,CAACA,KAAK,CAAC;MACpC,CAAC,CAAC;IACN,CAAC,MAAM;MACH,MAAMV,OAAO,CAACuB,KAAK,CAACT,QAAQ,EAAEC,QAAQ,CAAC,CAACN,IAAI,CAACU,CAAC,IAAG;QAC7CpB,mBAAmB,CAACqB,OAAO,CAAC,yBAAyB,CAAC;QACtDb,OAAO,CAACY,CAAC,CAACE,IAAI,CAAC;QACfJ,QAAQ,GAAGE,CAAC,CAACE,IAAI;MACrB,CAAC,CAAC,CAACR,KAAK,CAACH,KAAK,IAAG;QACbX,mBAAmB,CAACW,KAAK,CAACA,KAAK,CAAC;MACpC,CAAC,CAAC;IACN;IACA,OAAOO,QAAQ;EACnB,CAAC;EAED,MAAMO,UAAU,GAAG,YAAY;IAC3BjB,OAAO,CAAC,IAAI,CAAC;IACb,MAAMP,OAAO,CAACyB,MAAM,EAAE;EAC1B,CAAC;EAED,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACvB,IAAI;MAAEC,SAAS;MAAEqB;IAAU,CAAE;IAAA,UACtDlB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAE/B,CAAC;AAAA,IAtDKD,YAAY;AAAA,KAAZA,YAAY;AAwDlB,SAAQD,OAAO,EAAEC,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}